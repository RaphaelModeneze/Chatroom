@{
    ViewData["Title"] = "Home Page";
}

@*<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>
*@
@*
<h2>Chat</h2>
<div class="container">
    <form id="send-form" action="#">
        <div class="form-group">
            <label>Send a message:</label>
            <div class="input-group">
                <input type="text" id="message-textbox" class="form-control" />
                <div class="input-group-btn">
                    <input type="submit" value="send" id="send-button" class="btn btn-primary" />
                </div>
            </div>

        </div>

        <ul id="messages-list"></ul>

    </form>
</div>
@section Scripts{
    <script src="/lib/signalr/signalr.js" type="text/javascript"></script>

    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            var sendForm = document.getElementById("send-form");
            var sendButton = document.getElementById("send-button");
            var messagesList = document.getElementById("messages-list");
            var messageTextBox = document.getElementById("message-textbox");
            function appendMessage(content) {
                var li = document.createElement("li");

                var bold = document.createElement("b");
                bold.className = 'bold';
                bold.innerText = content;
                li.innerHTML = bold.outerHTML;
                li.textContent = bold.innerHTML;
                messagesList.appendChild(li);
            }
            //var connection = new signalR.HubConnectionBuilder()
            //    .withUrl("/Home")
            //    .build();
            sendForm.addEventListener("submit", function (e) {
                var message = messageTextBox.value;
                e.preventDefault();

                $.ajax({
                    url: 'HomeController',
                    data: { message: "123123" }
                }).done(function () {
                    alert('Added');
                });

                alert("sent");
            });
            //connection.on("SendMessage", function (sender, message) {
            //    appendMessage(sender + ' : ' + message);
            //});
            //connection.on("SendAction", function (sender, action) {
            //    appendMessage(sender + ' ' + action);
            //});
            //connection.start().then(function () {
            //    messageTextBox.disabled = false;
            //    sendButton.disabled = false;
            //});
        });
    </script>
}
*@


<a href="Controller/SendMessage">
    <input type="button" value="Click Me" />
</a>

<h1>IndexAsync</h1>
  <div class="text-center">
      <h1 class="display-4">Chat</h1>
      <form method="post" class="Home" asp-controller="Home" asp-action="SendMessage">
          <label for="fname">Enter a City:</label>
          <input type="text" id="fname" placeholder="Type here" name="message">
          <input type="submit" value="Submit">
      </form>
  </div>
 <p>
     <a asp-action="Create">Create New</a>
 </p>

<table class="table">
    ... use a table to display the page model.
</table>